"use strict";(self.webpackChunkshuffleforspotify=self.webpackChunkshuffleforspotify||[]).push([[246],{4272:function(e,t,a){a.r(t),a.d(t,{default:function(){return v}});var n=a(4322),r=a.n(n),l=a(3032),o=a(6425),i=a(7294),c=a(1861),s=a(2794),d=a(8148),u=a(9),m=u.default.tbody.withConfig({displayName:"playlistCard__StyledContainer",componentId:"sc-1ivok3m-0"})(["width:325px;height:80px;display:table;justify-content:flex-start;border-radius:4px;padding:0px;overflow:hidden;margin:8px 0;"]),p=u.default.td.withConfig({displayName:"playlistCard__StyledImageFrame",componentId:"sc-1ivok3m-1"})(["width:80px;height:80px;object-fit:contain;display:table-cell;overflow:hidden;border-radius:4px 0 0 4px;"]),f=u.default.img.withConfig({displayName:"playlistCard__StyledImage",componentId:"sc-1ivok3m-2"})(["object-fit:contain;height:100%;width:100%;overflow:hidden;"]),h=u.default.td.withConfig({displayName:"playlistCard__StyledContent",componentId:"sc-1ivok3m-3"})(["width:auto;height:100%;margin:auto;padding-left:25px;display:table-cell;vertical-align:middle;justify-content:center;background-color:rgba(255,255,255,0.1);"]),g=function(e){var t=e.children,a=e.image;e.selected,e.disabled,e.loaded;return i.createElement(m,null,i.createElement("tr",null,i.createElement(p,null,i.createElement(f,{src:a,alt:"playlist image"})),i.createElement(h,null,t)))};g.defaultProps={image:"https://res.cloudinary.com/carlton-dev/image/upload/v1635664043/Shuffle-for-Spotify/Album_sqqo3t.jpg",selected:!1,disabled:!1,loaded:0};var y=g,b=a(9776),v=(a(220),function(e){var t=e.location,a=i.useState({}),n=(0,o.Z)(a,2),u=n[0],m=n[1],p=i.useState(!0),f=(0,o.Z)(p,2),h=f[0],g=f[1],v=i.useState(!1),x=(0,o.Z)(v,2),E=x[0],w=x[1];console.log(t);var S=function(){var e=(0,l.Z)(r().mark((function e(t){var a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.spotify.com/v1/me/playlists",{method:"GET",headers:{Accept:"application/json",Authorization:"Bearer ".concat(t),"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){return console.log(e),{error:!!e.error,data:e}})).catch((function(e){return{error:!0,data:e}}));case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return i.useEffect((0,l.Z)(r().mark((function e(){var a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g(!0),e.next=3,S(t.state.token);case 3:if(a=e.sent,console.log(a),!a.error){e.next=9;break}return w(a.data.error),g(!1),e.abrupt("return");case 9:m({offset:a.data.offset,limit:a.data.limit,items:a.data.items,total:a.data.total}),g(!1);case 11:case"end":return e.stop()}}),e)}))),[]),i.createElement(c.Z,null,i.createElement(s.Z,null,h?i.createElement(d.Z,null):E?i.createElement(b.Z,null,"Error: ",i.createElement("br",null)," ",E.message):i.createElement(i.Fragment,null,i.createElement("h2",{style:{fontSize:"28px",marginBottom:"12px"}},"Select a playlist"),i.createElement("table",null,u.items.map((function(e){return console.log(e),i.createElement(y,{image:3===e.images.length?e.images[1].url:e.images[0].url,disabled:e.owner.id!==t.state.id,key:e.id},i.createElement("p",{style:{marginBottom:"4px",fontFamily:"GothamSSm-Book",fontSize:"18px"}},e.name),i.createElement("p",{style:{color:"#919496",fontFamily:"GothamSSm-Book",fontSize:"12px"}},e.tracks.total," Songs"))}))))))})}}]);
//# sourceMappingURL=component---src-pages-shuffle-js-94244533aa0d197b621b.js.map